<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>practica9</title><meta name="description" content="Documentation for practica9"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">practica9</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>practica9</h2></div><div class="tsd-panel tsd-typography"><a id="md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><strong>Práctica 9 - Aplicación para coleccionistas de cartas Magic</strong></a></h1><p>Nombre: Paola Astudillo Capote
Gmail: <a href="mailto:alu010337418@ull.edu.es">alu010337418@ull.edu.es</a></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo&metric=alert_status" alt="Quality Gate Status"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-PaolaAstudillo/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<a id="md:introducción" class="tsd-anchor"></a><h2><a href="#md:introducción">Introducción</a></h2><p>En esta práctica tenemos que solucionar un ejercicio basado en la creación de una aplicación para coleccionistas de cartas Magic, en donde almacenaremos y gestionaremos información sobre las cartas de cada usuario. Además comentaré la solución propuesta para el ejercicio desarrollado durante la hora de PE.</p>
<a id="md:objetivos" class="tsd-anchor"></a><h2><a href="#md:objetivos">Objetivos</a></h2><ul>
<li>Pasos previos</li>
<li>Desarrollo de la aplicación</li>
<li>Ejercicio del PE </li>
<li>Conclusión</li>
</ul>
<a id="md:desarrollo" class="tsd-anchor"></a><h2><a href="#md:desarrollo">Desarrollo</a></h2><a id="md:pasos-previos" class="tsd-anchor"></a><h3><a href="#md:pasos-previos">Pasos previos</a></h3><p>Para realizar esta práctica, comencé creando la estructura básica del proyecto, siguiendo el mismo formato que en las prácticas anteriores, es decir, haciendo uso de GitHubPages, de documentación en TypeDoc, desarrollo dirigido por pruebas,con “Mocha y Chai”, GItHubActions, Coveralls y SonarCloud. Además implementamos el uso de el paquete <code>chalk</code>, para colorear en consola y <code>yargs</code> que permite parsear diferentes argumentos pasados a un programa desde la línea de comandos.</p>
<a id="md:desarrollo-de-la-aplicación" class="tsd-anchor"></a><h3><a href="#md:desarrollo-de-la-aplicación">Desarrollo de la aplicación</a></h3><p>La estructura de la aplicación se basa en torno a la clase <code>MagicCard</code>, donde cada instancia representa una carta individual del juego Magic. Esta clase incluye detalles como el ID, nombre, coste de maná, y otros elementos que definen la carta. Para asegurar la consistencia de algunos de estos atributos, utilicé enumerados como indica el enunciado(<code>MagicColor</code>, <code>MagicType</code>, <code>MagicRarity</code>).</p>
<p>La clase <code>MagicCardCollection</code> se encarga de gestionar las colecciones de cartas de cada usuario. Implementa métodos para añadir, actualizar, eliminar y listar cartas, así como para obtener detalles específicos de una carta. Además, utilicé un Map para almacenar las cartas, facilitando un acceso rápido y eficiente por ID, crucial para búsquedas y actualizaciones rápidas. Esta clase maneja la lógica para verificar la existencia de una carta antes de añadirla o eliminarla.</p>
<p>La persistencia de datos se maneja con <code>MagicFileHandler</code>, una clase dedicada a operaciones de archivo usando la API síncrona de Node.js. Cada método en esta clase tiene un propósito específico: <code>saveCardToFile</code>: guarda una carta en formato JSON, <code>loadCardFromFile</code>:lee una carta del sistema de archivos , <code>loadAllCards</code>: recupera todas las cartas de un usuario y <code>deleteCard</code>:elimina una carta . </p>
<p>Para interactuar con el usuario, hice uso del paquete <code>yargs</code>, que me permitió definir comandos específicos para cada operación. Cada comando está vinculado a un método correspondiente en <code>MagicCardCollection</code>, pasando los argumentos necesarios.</p>
<p>Por último, utilicé el paquete <code>chalk</code> para colorear la salida en la consola, los mensajes de éxito se muestran en verde, mientras que los de error en rojo, y cada carta se muestra en un color que coincide con su atributo de color en el juego. Implementé una función auxiliar en <code>MagicCardCollection</code>, llamada <code>getColorFunction</code>,para determinar el color del texto en la consola, basado en el color de la carta, lo que añade un elemento visual útil para diferenciar las cartas rápidamente.</p>
<a id="md:ejercicio-del-pe" class="tsd-anchor"></a><h3><a href="#md:ejercicio-del-pe">Ejercicio del PE</a></h3><p>Esta solución se ha diseñado y desarrollado para cumplir con los requisitos específicos del enunciado. Se evitó el uso directo de los métodos <code>filter</code>, <code>map</code> y <code>reduce</code> de TypeScript y se implementó el patrón Template Method. </p>
<p>Esta solución se basa en la clase base abstracta <code>NumberListProcessor</code>, que sirve como el núcleo, definiendo el flujo general del algoritmo a través del método <code>processNumbers</code>. Este método encapsula las etapas de filtrado, mapeo y reducción, fundamentales para procesar una lista de números. En la etapa de filtrado, el método <code>filter</code> itera sobre cada número en la lista y aplica un predicado lógico definido en <code>filterPredicate</code>. Este predicado es una función que determina si un número cumple con una condición específica, y si es así, el número se incluye en la lista resultante. Esta implementación de filtrado evita el uso directo del método <code>filter</code> de TypeScript.</p>
<p>La siguiente fase es el mapeo, donde <code>map</code> transforma cada número de la lista filtrada. Aquí, en lugar de utilizar el método <code>map</code> de TypeScript, se aplica una transformación definida en <code>mapFunction</code> a cada elemento. </p>
<p>Además en la clase <code>NumberListProcessor</code> tenemos el método <code>reduce</code> que es abstracto, lo que obliga a las subclases a proporcionar su propia implementación. Asegurando que la operación de reducción sea específica y adecuada para el contexto de cada subclase.</p>
<p>Para abordar las variaciones en la operación de reducción, desarrollé varias subclases: <code>FilterMapAddReduce</code>, <code>FilterMapDivReduce</code>, <code>FilterMapProdReduce</code>, y <code>FilterMapSubReduce</code>. Cada una implementa <code>reduce</code> de manera que refleje su operación característica. Además, estas subclases tienen la opción de sobrescribir los métodos hook <code>afterFiltering</code> y <code>afterMapping</code>. Estos se ejecutan después de las operaciones de filtrado y mapeo, respectivamente, y ofrecen puntos de extensión para agregar funcionalidades adicionales, aunque en la implementación actual no se les dio un uso específico más allá de mostrar su potencial.</p>
<a id="md:conclusión" class="tsd-anchor"></a><h3><a href="#md:conclusión">Conclusión</a></h3><p>Al finalizar este ejercicio he aprendido muchas cosas nuevas, y entre ellas destacaría el uso de la herramienta chalk, ya que me ha parecido muy interesante y útil. Las demás herramientas, tambien han sido de gran utilidad, aunque me han resultado un poco mas complicadas de entender y aplicar correctamente. Aunque tras investigar un poco, he podido resolver en gran parte el ejercicio. Como se puede ver, quality gate, aparece como failed, ya que no conseguí realizar las pruebas correctamente, por lo que gran parte del código está sin cubrir. Pese a que las pruebas no están implementadas, al introducir por línea de comandos las dferentes opciones, se puede comprobar que el programa funciona correctamente para todos los requisitos del enunciado.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><span>Práctica 9 -<wbr/> <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic</span></a><ul><li><a href="#md:introducción"><span>Introducción</span></a></li><li><a href="#md:objetivos"><span>Objetivos</span></a></li><li><a href="#md:desarrollo"><span>Desarrollo</span></a></li><li><ul><li><a href="#md:pasos-previos"><span>Pasos previos</span></a></li><li><a href="#md:desarrollo-de-la-aplicación"><span>Desarrollo de la aplicación</span></a></li><li><a href="#md:ejercicio-del-pe"><span>Ejercicio del PE</span></a></li><li><a href="#md:conclusión"><span>Conclusión</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>practica9</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>